import sys
input = sys.stdin.readline
'''
11
1 4
3 5
0 6
5 7
3 8
5 9
6 10
8 11
8 12
2 13
12 14
'''
N, M= map(int, input().split())
polynomioes = {1:[(0,0),(0,1),(0,2),(0,3)],
               2:[(0,0),(1,0),(2,0),(3,0)],
               3:[(0,0),(0,1),(1,0),(1,1)],
               4:[(0,0),(1,0),(2,0),(2,1)],
               5:[(0,0),(1,0),(2,0),(1,1)],
               6:[(0,0),(1,0),(2,0),(0,1)],
               7:[(0,0),(1,0),(2,0),(2,-1)],
               8:[(0,0),(1,0),(2,0),(1,-1)],
               9:[(0,0),(1,0),(2,0),(0,-1)],
               10:[(0,0),(0,1),(0,2),(-1,0)],
               11:[(0,0),(0,1),(0,2),(-1,1)],
               12:[(0,0),(0,1),(0,2),(-1,2)],
               13:[(0,0),(0,1),(0,2),(1,0)],
               14:[(0,0),(0,1),(0,2),(1,1)],
               15:[(0,0),(0,1),(0,2),(1,2)],
               16:[(0,0),(0,1),(-1,0),(1,1)],
               17:[(0,0),(0,1),(1,0),(-1,1)],
               18:[(0,0),(1,0),(0,-1),(1,1)],
               19:[(0,0),(1,0),(0,1),(1,-1)]
            } 
paper = []
for _ in range(N):
    paper.append(list(map(int,input().split())))

max_num = 0

for n in range(N):
    for m in range(M):
        for p in polynomioes:
            cnt = 0
            sum_num = 0
            for idx in polynomioes[p]:
                if 0<= n+idx[0] < N and 0 <= m+idx[1] < M:
                    cnt += 1
                    sum_num += paper[n+idx[0]][m+idx[1]]
                else :
                    break
            if cnt == 4:
                max_num = max(max_num,sum_num)

print(max_num)